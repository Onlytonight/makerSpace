<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.qks.makerSpace.dao.EmployeeDao">

    <select id="getEmployeeById" resultType="com.qks.makerSpace.entity.Employee">
        select *
        from employee
        where employee_id = #{getEmployeeById}
    </select>

    <select id="getAllEmployee" resultType="com.qks.makerSpace.entity.Employee">
        select employee.employee_id, connect.enterprise_id, connect.team_name, employee.employees
        from employee, connect
        where connect.employee_id = employee.employee_id
    </select>

    <insert id="addEmployee" parameterType="Map">
        insert into employee(employee_id, employees, doctor, master,
                             graduate, bachelor, college, tec_secondary,
                             tec_activists, rad_number, returnees,
                             talents, trainee, employment)
        values (#{employeeId}, #{employees}, #{doctor}, #{master},
                #{graduate}, #{bachelor}, #{college}, #{tecSecondary},
                #{tecActivists}, #{radNumber}, #{returnees}, #{talents},
                #{trainee}, #{employment})
    </insert>

    <update id="updateConnect">
        update connect
        set employee_id = #{employeeId}
        where enterprise_id = #{enterpriseId}
    </update>

    <update id="updateEnterprise" parameterType="Map">
        update employee
        <set>
            <if test="employees != null">
                employees = #{employees}
            </if>
            <if test="doctor != null">
                doctor = #{doctor}
            </if>
            <if test="master != null">
                master = #{master}
            </if>
            <if test="graduate != null">
                graduate = #{graduate}
            </if>
            <if test="bachelor != null">
                bachelor = #{bachelor}
            </if>
            <if test="college != null">
                college = #{college}
            </if>
            <if test="tecSecondary != null">
                tec_secondary = #{tecSecondary}
            </if>
            <if test="tecActivists != null">
                tec_activists = #{tecActivists}
            </if>
            <if test="radNumber != null">
                rad_number = #{raNumber}
            </if>
            <if test="returnees != null">
                returnees = #{returnees}
            </if>
            <if test="talents != null">
                talents = #{talents}
            </if>
            <if test="trainee != null">
                trainee = #{trainee}
            </if>
            <if test="employment != null">
                employment = #{employment}
            </if>
        </set>
        where employee_id = #{employeeId}
    </update>

    <delete id="deleteEnterprise">
        delete from employee
        where employee_id = #{id}
    </delete>
</mapper>