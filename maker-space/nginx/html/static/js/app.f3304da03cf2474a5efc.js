webpackJsonp([4],{"+708":function(t,e,s){"use strict";var i={name:"vue-particles",props:{color:{type:String,default:"#dedede"},particleOpacity:{type:Number,default:.7},particlesNumber:{type:Number,default:80},shapeType:{type:String,default:"circle"},particleSize:{type:Number,default:4},linesColor:{type:String,default:"#dedede"},linesWidth:{type:Number,default:1},lineLinked:{type:Boolean,default:!0},lineOpacity:{type:Number,default:.4},linesDistance:{type:Number,default:150},moveSpeed:{type:Number,default:3},hoverEffect:{type:Boolean,default:!0},hoverMode:{type:String,default:"grab"},clickEffect:{type:Boolean,default:!0},clickMode:{type:String,default:"push"}},mounted:function(){var t=this;s("JAHf"),this.$nextTick(function(){t.initParticleJS(t.color,t.particleOpacity,t.particlesNumber,t.shapeType,t.particleSize,t.linesColor,t.linesWidth,t.lineLinked,t.lineOpacity,t.linesDistance,t.moveSpeed,t.hoverEffect,t.hoverMode,t.clickEffect,t.clickMode)})},methods:{initParticleJS:function(t,e,s,i,a,n,r,o,c,l,u,d,p,h,m){particlesJS("particles-js",{particles:{number:{value:s,density:{enable:!0,value_area:800}},color:{value:t},shape:{type:i,stroke:{width:0,color:"#192231"},polygon:{nb_sides:5}},opacity:{value:e,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:a,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:o,distance:l,color:n,opacity:c,width:r},move:{enable:!0,speed:u,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:d,mode:p},onclick:{enable:h,mode:m},onresize:{enable:!0,density_auto:!0,density_area:400}},modes:{grab:{distance:140,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})}}},a={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{attrs:{id:"particles-js",color:t.color,particleOpacity:t.particleOpacity,linesColor:t.linesColor,particlesNumber:t.particlesNumber,shapeType:t.shapeType,particleSize:t.particleSize,linesWidth:t.linesWidth,lineLinked:t.lineLinked,lineOpacity:t.lineOpacity,linesDistance:t.linesDistance,moveSpeed:t.moveSpeed,hoverEffect:t.hoverEffect,hoverMode:t.hoverMode,clickEffect:t.clickEffect,clickMode:t.clickMode}})},staticRenderFns:[]},n=s("VU/8")(i,a,!1,null,null,null);e.a=n.exports},"/XWQ":function(t,e){},"/nFP":function(t,e){},0:function(t,e){},"2W4t":function(t,e){},"3j3Y":function(t,e){},"3s1o":function(t,e,s){t.exports=s.p+"static/media/indexVideo.96733f2.mp4"},"4xTX":function(t,e,s){t.exports=s.p+"static/img/kexie.c565cc5.jpg"},"5aes":function(t,e,s){t.exports=s.p+"static/img/singin.bda69fb.jpg"},"5eRU":function(t,e){},"5xk6":function(t,e){},"6naw":function(t,e,s){"use strict";var i=s("Ub+T"),a={name:"lunBo",data:function(){return{imgArr:["https://p1.music.126.net/CPvZlCxjst9CLv_tFu04_A==/109951166251697817.jpg?imageView&quality=89","https://p1.music.126.net/VEX6hvq_r7YbgmhHAfDC9A==/109951166251616971.jpg?imageView&quality=89","https://p1.music.126.net/rpTHy6rIAAu0yxkuOhqG9A==/109951166252220301.jpg?imageView&quality=89","https://p1.music.126.net/tUyBpql8zrOuX8dLChGSyQ==/109951166254403832.jpg?imageView&quality=89","https://p1.music.126.net/VozCDc2RsH4Vrlr0qxX_8g==/109951166251660910.jpg?imageView&quality=89","http://p1.music.126.net/VvBM6bjwM2pdXqNc__PbHA==/109951166251656690.jpg?imageView&quality=89"],coverImgUrl:"https://p1.music.126.net/CPvZlCxjst9CLv_tFu04_A==/109951166251697817.jpg?imageView&quality=89"}},created:function(){var t=this;Object(i.a)({url:"/banner"}).then(function(e){for(var s=0;e.data.banners[s];s++)t.imgArr.splice(s,1,e.data.banners[s].imageUrl)}).catch(function(t){console.log(t)})},methods:{getUrl:function(t){this.coverImgUrl=this.imgArr[t]}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"main"}},[s("div",{staticClass:"bg",style:{backgroundImage:"url("+t.coverImgUrl+")"}}),t._v(" "),s("el-carousel",{staticClass:"lunbo",attrs:{interval:4e3,type:"card",height:"200px"},on:{change:t.getUrl}},t._l(t.imgArr,function(e,i){return s("el-carousel-item",{key:e},[s("a",{attrs:{hidefocus:"true",href:"https://music.163.com/song?id=1867243757"}},[s("img",{ref:"imgs",refInFor:!0,staticClass:"medium",attrs:{src:t.imgArr[i],alt:"",name:"IMG"}})])])}),1)],1)},staticRenderFns:[]};var r=s("VU/8")(a,n,!1,function(t){s("Bgs2"),s("z4b5")},"data-v-657774d6",null).exports,o=s("woOf"),c=s.n(o),l={name:"tuiJianList",data:function(){return{zuixinlist:[{musicid:123,song:"",singer:"",picUrl:"",time:0}]}},created:function(){var t=this;console.log(11111),Object(i.a)({url:"/personalized/newsong"}).then(function(e){for(var s=0;e.data.result[s];s++)t.$set(t.zuixinlist,s,{musicid:e.data.result[s].id,song:e.data.result[s].name,singer:e.data.result[s].song.artists[0].name,picUrl:e.data.result[s].picUrl});console.log(t.zuixinlist),console.log(e)}).catch(function(e){t.message=e,console.log("err:  "+e)})},methods:{boFang:function(t){this.$store.state.playId=t.musicid,this.$store.state.songId="https://music.163.com/song/media/outer/url?id="+t.musicid+".mp3",this.$store.state.playSong=t.song,this.$store.state.playSinger=t.singer,this.$store.state.playPicUrl=t.picUrl;var e={id:t.musicid,playPicUrl:t.picUrl,playSong:t.song,playSinger:t.singer,dt:t.time},s={};c()(s,e),this.$store.commit({type:"setContent",playDetail:s})}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tuijianlist"},[s("div",{staticClass:"title"},[s("span",[t._v("推荐歌曲")]),t._v(" "),s("i",{staticClass:"el-icon-arrow-right titleicon"}),s("br"),t._v(" "),s("div",{staticClass:"songlist"},t._l(t.zuixinlist,function(e,i){return s("div",{key:i,staticClass:"song",on:{click:function(s){return t.boFang(e)}}},[s("div",[s("img",{attrs:{src:e.picUrl,alt:"",width:"100%"}})]),t._v(" "),s("h1",[t._v(t._s(e.song)+"-"+t._s(e.singer))])])}),0)])])},staticRenderFns:[]};var d=s("VU/8")(l,u,!1,function(t){s("x0c5"),s("MUjt")},"data-v-47c1c1f4",null).exports,p=s("FckS"),h={render:function(){var t=this.$createElement;return(this._self._c||t)("iframe",{attrs:{src:this.mikutapUrl,frameborder:"1",width:"1325px",height:"650px"}})},staticRenderFns:[]};var m=s("VU/8")({name:"mikutap",data:function(){return{mikutapUrl:""}},created:function(){this.mikutapUrl="https://aidn.jp/mikutap/"}},h,!1,function(t){s("VzmM")},"data-v-529c5378",null).exports,f={render:function(){var t=this.$createElement;return(this._self._c||t)("iframe",{attrs:{src:this.weavesilkUrl,frameborder:"1",width:"1325px",height:"650px"}})},staticRenderFns:[]};var v=s("VU/8")({name:"weavesilk",data:function(){return{weavesilkUrl:""}},created:function(){this.weavesilkUrl="http://weavesilk.com/"}},f,!1,function(t){s("Bz2J")},"data-v-cfd4a746",null).exports,g={name:"tabs",components:{lunBo:r,tuiJianList:d,searchVideos:p.a,mikutap:m,weavesilk:v},data:function(){return{activeName:"first"}},methods:{handleClick:function(t,e){console.log(t,e)},tabFixed:function(){window.addEventListener("scroll",function(){console.log("456131"),$("body, html").scrollTop()>0?$(".el-tabs__header").addClass("box-active"):$(".el-tabs__header").removeClass("box-active")})}}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"个性推荐",name:"first"}},[s("lun-bo"),t._v(" "),s("tui-jian-list")],1),t._v(" "),s("el-tab-pane",{attrs:{label:"Mikutap",name:"second"}},[s("mikutap")],1)],1)},staticRenderFns:[]};var b=s("VU/8")(g,y,!1,function(t){s("EVoe"),s("XwvZ")},"data-v-c111b410",null);e.a=b.exports},"7Raw":function(t,e,s){"use strict";var i=s("woOf"),a=s.n(i),n=s("Ub+T"),r={name:"searchMusic",data:function(){return{state:"",timeout:null,song:"",singer:"",musicId:"",zhuanji:"",picUrl:"",songList:[],score:"",musicListId:[],songCnt:0}},methods:{changeInfo:function(){var t=this.state;this.searchDanqu(t),this.searchMV(t)},searchDanqu:function(t){var e=this;Object(n.a)({url:"/cloudsearch",params:{keywords:t,limit:100}}).then(function(t){e.$store.state.searchMusicList.splice(0,1e4);for(var s=0,i=0;t.data.result.songs[i];i++){var n={musicid:t.data.result.songs[i].id,song:t.data.result.songs[i].name,singer:t.data.result.songs[i].ar[0].name,zhuanji:t.data.result.songs[i].al.name,picUrl:t.data.result.songs[i].al.picUrl,time:e.formatDt(t.data.result.songs[i].dt)},r={};a()(r,n),e.$store.commit({type:"searchMusic",musicList:r}),s++}e.$store.commit({type:"searchCnt",songCnt:s}),e.$router.push("/searchSongList"),console.log(t)}).catch(function(t){console.log(t)})},searchMV:function(t){var e=this;Object(n.a)({url:"/cloudsearch",params:{keywords:t,type:1014,limit:100}}).then(function(t){e.$store.state.searchVideos.splice(0,1e3);for(var s=0;t.data.result.videos[s];s++){var i={userName:t.data.result.videos[s].creator[0].userName,title:t.data.result.videos[s].title,coverUrl:t.data.result.videos[s].coverUrl,vid:t.data.result.videos[s].vid},n={};a()(n,i),e.$store.commit({type:"searchVideos",videoList:n})}}).catch(function(t){console.log(t)})},formatDt:function(t){var e=t/1e3,s=parseInt(e/60),i=parseInt(e%60);return s>=10||(s="0"+s),i>=10||(i="0"+i),s+":"+i}}},o={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-autocomplete",{staticClass:"auto",attrs:{"prefix-icon":"el-icon-search",placeholder:"  搜索",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeInfo.apply(null,arguments)}},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})},staticRenderFns:[]};var c=s("VU/8")(r,o,!1,function(t){s("uJ5j"),s("t9K7")},"data-v-95699f76",null);e.a=c.exports},BJG3:function(t,e){},Bgs2:function(t,e){},Bz2J:function(t,e){},EVoe:function(t,e){},FckS:function(t,e,s){"use strict";var i=s("Ub+T"),a={name:"searchVideos",data:function(){return{videos:[{userName:"",title:"",coverUrl:"",vid:""}]}},watch:{"$store.state.searchMusicList":function(){for(var t=0;this.$store.state.searchVideos[t];t++)this.$set(this.videos,t,{userName:this.$store.state.searchVideos[t].userName,title:this.$store.state.searchVideos[t].title,coverUrl:this.$store.state.searchVideos[t].coverUrl,vid:this.$store.state.searchVideos[t].vid})}},created:function(){for(var t=0;this.$store.state.searchVideos[t];t++)this.$set(this.videos,t,{userName:this.$store.state.searchVideos[t].userName,title:this.$store.state.searchVideos[t].title,coverUrl:this.$store.state.searchVideos[t].coverUrl,vid:this.$store.state.searchVideos[t].vid})},methods:{boFangVideos:function(t){var e=this;Object(i.a)({url:"/video/url",params:{id:t.vid}}).then(function(t){var s=t.data.urls[0].url;e.$store.commit({type:"boFangMV",mvUrl:s}),console.log("提交成功")}).catch(function(t){console.log(t)}),this.$router.push("/onMv")}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shipings"},t._l(t.videos,function(e,i){return s("div",{key:i,staticClass:"video",on:{click:function(s){return t.boFangVideos(e)}}},[s("div",{staticClass:"mv-img"},[s("img",{attrs:{src:e.coverUrl,alt:"",width:"100%"}})]),t._v(" "),s("div",{staticClass:"name"},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"author"},[t._v(t._s(e.userName))])])}),0)},staticRenderFns:[]};var r=s("VU/8")(a,n,!1,function(t){s("IJwm")},"data-v-cf0e849a",null);e.a=r.exports},IJwm:function(t,e){},Ip1V:function(t,e){},JKvH:function(t,e){},MUjt:function(t,e){},Msk7:function(t,e,s){t.exports=s.p+"static/img/enter.8f3c5da.png"},N70s:function(t,e){},N99k:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("Ub+T");var i=s("woOf"),a=s.n(i),n={name:"songResult",data:function(){return{tableData:[{musicId:this.$store.state.searchMusicList[0].musicid,song:"",singer:"",zhuanji:"",time:""}],songList:[],songCnt:0,currentRow:null}},created:function(){this.viewSongList()},watch:{"$store.state.searchMusicList":function(){this.viewSongList()}},methods:{test:function(){console.log(this.tableData)},viewSongList:function(){console.log(111111),console.log("cnt；"+this.$store.state.songCnt),console.log(222222);for(var t=0;t<this.$store.state.songCnt;t++)this.$set(this.tableData,t,{musicId:this.$store.state.searchMusicList[t].musicid,song:this.$store.state.searchMusicList[t].song,singer:this.$store.state.searchMusicList[t].singer,zhuanji:this.$store.state.searchMusicList[t].zhuanji,picUrl:this.$store.state.searchMusicList[t].picUrl,time:this.$store.state.searchMusicList[t].time})},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t)},handleCurrentChange:function(t){console.log(777777777),this.currentRow=t,this.$store.state.songId="https://music.163.com/song/media/outer/url?id="+t.musicId+".mp3";var e={playId:t.musicId,playPicUrl:t.picUrl,playSong:t.song,playSinger:t.singer,dt:t.time},s={};a()(s,e),this.$store.commit({type:"setContent",playDetail:s}),this.$store.state.playId=t.musicId,this.$store.state.playPicUrl=t.picUrl,this.$store.state.playSong=t.song,this.$store.state.playSinger=t.singer,console.log(this.$store.state.playContent)},click:function(t){}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:this.tableData,"highlight-current-row":""},on:{"current-change":this.handleCurrentChange}},[e("el-table-column",{attrs:{type:"index",width:"100"}}),this._v(" "),e("el-table-column",{attrs:{property:"song",label:"音乐标题",width:"550"}}),this._v(" "),e("el-table-column",{attrs:{property:"singer",label:"歌手",width:"220"}}),this._v(" "),e("el-table-column",{attrs:{property:"zhuanji",label:"专辑"}}),this._v(" "),e("el-table-column",{attrs:{property:"time",label:"时长"}})],1)],1)},staticRenderFns:[]};var o=s("VU/8")(n,r,!1,function(t){s("zXLJ")},null,null).exports,c=s("7Raw"),l=s("FckS"),u={name:"searchSongList",components:{songResult:o,searchMusic:c.a,searchVideos:l.a},data:function(){return{activeName:"first",songNum:this.$store.state.songCnt}},methods:{test:function(){console.log(this.$store.state.songCnt)},handleClick:function(t,e){console.log(t,e)}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"findsong"},[s("h1",{staticClass:"number"},[t._v("找到"+t._s(t.songNum)+"首单曲")]),t._v(" "),s("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"单曲",name:"first"}},[s("song-result")],1),t._v(" "),s("el-tab-pane",{attrs:{label:"视频",name:"second"}},[s("search-videos")],1)],1)],1)},staticRenderFns:[]};var p=s("VU/8")(u,d,!1,function(t){s("5eRU")},null,null);e.default=p.exports},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("/5sW"),a=s("zL8q"),n=s.n(a),r=(s("tvR6"),s("Pt1D")),o=s("Td0T"),c=s("NZ8v"),l={name:"App",components:{index:r.default,test:o.default,indexShow:c.default},data:function(){return{isShow:!0}},methods:{changeIsShow:function(t){this.isShow=t,console.log("parent；"+t)},route:function(){this.$router.push("/test")}}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),e("el-backtop",{attrs:{"visibility-height":60}},[e("i",{staticClass:"el-icon-caret-top"})])],1)},staticRenderFns:[]};var d=s("VU/8")(l,u,!1,function(t){s("3j3Y")},null,null).exports,p=s("/ocq"),h=function(){return new Promise(function(t){t()}).then(s.bind(null,"cvDP"))},m=function(){return new Promise(function(t){t()}).then(s.bind(null,"Pt1D"))},f=function(){return s.e(0).then(s.bind(null,"4fqI"))},v=function(){return new Promise(function(t){t()}).then(s.bind(null,"uKbm"))};i.default.use(p.a);var g=p.a.prototype.push;p.a.prototype.push=function(t){return g.call(this,t).catch(function(t){return t})};var y=[{path:"/",redirect:"indexShow"},{path:"/indexShow",component:function(){return new Promise(function(t){t()}).then(s.bind(null,"NZ8v"))}},{path:"/index",name:"index",components:{default:m,index:m},children:[{path:"/index",redirect:"discover"},{path:"/index/discover",name:"discover",components:{default:h,discover:h}},{path:"/searchSongList",component:function(){return new Promise(function(t){t()}).then(s.bind(null,"N99k"))}},{path:"/comments",component:function(){return s.e(2).then(s.bind(null,"ApRj"))}},{path:"/videos",component:function(){return s.e(1).then(s.bind(null,"8qrY"))}},{path:"/onMv",name:"onMv",components:{default:f,onMv:f}},{path:"/login",name:"login",components:{default:v,login:v}}]},{path:"/test",component:function(){return new Promise(function(t){t()}).then(s.bind(null,"Td0T"))}}],b=new p.a({routes:y}),w=s("NYxO");i.default.use(w.a);var C={into:!1,songId:"",isPlay:!1,currentTime:0,playList:[{playId:0,playPicUrl:"",playSong:"",playSinger:""}],playContent:{},searchMusicList:[{musicid:123,song:"",singer:"",zhuanji:"",picUrl:"",time:0}],songCnt:666,playId:0,playPicUrl:"",playSong:"",playSinger:"",searchVideos:[{userName:"",title:"",coverUrl:"",vid:""}],lastSong:[{song:"",singer:""}],onPlay:!0,tuiJianList:[{musicid:123,song:"",singer:[],picUrl:"",time:0}],mvUrl:"",isLogin:sessionStorage.getItem("isLogin"),user:{userPic:sessionStorage.getItem("userPic"),userName:sessionStorage.getItem("userName")},isDel:!1},_=new w.a.Store({state:C,mutations:{setContent:function(t,e){t.playContent=e},removeSong:function(t,e){t.playList.splice(e.index,1)},removeSonged:function(t,e){t.isDel=e.isDel},addSong:function(t,e){t.playList.indexOf(e);-1==t.playList.indexOf(e)&&t.playList.push(e)},changeIsLogin:function(t,e){t.isLogin=e.isLogin,sessionStorage.setItem("isLogin",e.isLogin)},changeUser:function(t,e){t.user.userPic=e.user.userPic,t.user.userName=e.user.userName,sessionStorage.setItem("userPic",e.user.userPic),sessionStorage.setItem("userName",e.user.userName)},boFangMV:function(t,e){t.mvUrl=e.mvUrl},searchCnt:function(t,e){t.songCnt=e.songCnt},searchMusic:function(t,e){t.searchMusicList.push(e.musicList)},addLastSong:function(t,e){t.searchMusicList.push(e.lastSongList)},searchVideos:function(t,e){t.searchVideos.push(e.videoList)},updateCurrentTime:function(t,e){t.currentTime=e}}}),x=s("mtWM"),$=s.n(x),S=s("mM94");i.default.use(S.a),i.default.prototype.axios=$.a,i.default.config.productionTip=!1,i.default.use(n.a),i.default.use(w.a),new i.default({el:"#app",store:_,router:b,render:function(t){return t(d)}})},NZ8v:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"indexShow",data:function(){return{isShow:!0}},methods:{click:function(){this.isShow=!1,this.$router.push("/index"),console.log("this.$parent.isShow:"+this.$parent.isShow)}}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return this.isShow?e("div",{staticClass:"body"},[e("div",{staticClass:"container"},[e("video",{attrs:{src:s("3s1o"),autoplay:"",muted:"",loop:""},domProps:{muted:!0}}),this._v(" "),e("div",{staticClass:"box"},[e("div",[e("span",[e("video",{attrs:{src:s("3s1o"),autoplay:"",muted:"",loop:""},domProps:{muted:!0}})]),this._v(" "),e("span",[e("video",{attrs:{src:s("3s1o"),autoplay:"",muted:"",loop:""},domProps:{muted:!0}})]),this._v(" "),e("span",[e("video",{attrs:{src:s("3s1o"),autoplay:"",muted:"",loop:""},domProps:{muted:!0}})])])]),this._v(" "),e("div",{staticClass:"enter",on:{click:this.click}},[e("img",{staticClass:"enterlogo",attrs:{src:s("Msk7"),alt:"",width:"100%"}})])])]):this._e()},staticRenderFns:[]};var n=s("VU/8")(i,a,!1,function(t){s("c5He")},"data-v-1cb3a295",null);e.default=n.exports},Pt1D:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Xxa5"),a=s.n(i),n=s("exGp"),r=s.n(n),o=s("Td0T"),c=s("cvDP"),l=s("7Raw"),u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-col",{attrs:{span:12}},[s("div",{staticClass:"demo-basic--circle"},t._l(t.sizeList,function(e){return s("div",{key:e,staticClass:"block"},[s("el-avatar",{attrs:{size:e,src:t.circleUrl}})],1)}),0)])},staticRenderFns:[]};var d=s("VU/8")({name:"singIn",data:function(){return{circleUrl:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",squareUrl:"https://cube.elemecdn.com/9/c2/f0ee8a3c7c9638a54940382568c9dpng.png",sizeList:["small"]}}},u,!1,function(t){s("Z33L"),s("JKvH")},"data-v-acaa5da6",null).exports,p=s("uKbm"),h={name:"topNav",components:{findMusic:c.default,searchMusic:l.a,singIn:d,login:p.default},data:function(){return{niName:"未登录",userPic:s("h0g1")}},created:function(){this.niName=this.$store.state.user.userName||"未登录",this.userPic=this.$store.state.user.userPic||s("h0g1")},watch:{"$store.state.isLogin":function(){this.niName=this.$store.state.user.userName,this.userPic=this.$store.state.user.userPic}},methods:{test:function(){console.log(this.$store.state.user.userPic),console.log(this.$store.state.user.userName)},sign:function(){this.$router.push("/login")}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top-nav"},[t._m(0),t._v(" "),s("search-music",{staticClass:"ser-mu"}),t._v(" "),s("div",{staticClass:"signbox"},[s("img",{staticClass:"singin",attrs:{src:t.userPic,alt:""},on:{click:t.sign}}),t._v(" "),s("div",{staticClass:"yonghu",staticStyle:{"text-align":"left"}},[t._v(t._s(t.niName))])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{attrs:{href:"#"}},[e("h1",{staticClass:"logo"})])}]};var f=s("VU/8")(h,m,!1,function(t){s("Y/lP")},"data-v-de73a030",null).exports,v=s("6naw"),g=s("Ub+T"),y=s("mvHQ"),b=s.n(y),w={name:"boFangList",data:function(){return{currentRow:null,drawer:!1,tableData:[{playId:0,playPicUrl:"",playSong:"",playSinger:""}]}},watch:{"$store.state.playId":function(){var t={playId:this.$store.state.playId,playPicUrl:this.$store.state.playPicUrl,playSong:this.$store.state.playSong,playSinger:this.$store.state.playSinger,delListSong:"x"};""===this.tableData[0].playPicUrl&&this.tableData.splice(0,1,t),-1==b()(this.tableData).indexOf(b()(t))&&this.tableData.unshift(t),this.changeList()}},created:function(){this.changeList()},methods:{test:function(){alert("mkl")},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t)},delListSongs:function(t){var e=this.tableData.findIndex(function(e){return e.playId===t.playId});if(this.tableData.splice(e,1),t.playId===this.$store.state.playId){var s=!this.$store.state.isDel;this.$store.commit({type:"removeSonged",isDel:s}),console.log("切歌")}console.log("成功移除列表歌曲")},changeList:function(){this.$store.state.playList.splice(0,1e4);var t=this.tableData;this.$store.commit({type:"addSong",playDetail:t})},handleCurrentChange:function(t){this.currentRow=t,this.$store.state.songId="https://music.163.com/song/media/outer/url?id="+t.playId+".mp3",this.$store.state.playList.splice(0,1e4);var e=this.tableData;this.$store.commit({type:"addSong",playDetail:e}),console.log(this.$store.state.playList),this.$store.state.playId=t.playId,this.$store.state.playPicUrl=t.playPicUrl,this.$store.state.playSong=t.playSong,this.$store.state.playSinger=t.playSinger,console.log("  this.$store.state.playSong:"+this.$store.state.playSong)}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"body"},[s("div",{staticClass:"listOn"},[s("el-button",{staticStyle:{"margin-right":"16px"},attrs:{type:"primary",icon:"el-icon-s-fold"},on:{click:function(e){t.drawer=!0}}})],1),t._v(" "),s("el-drawer",{staticClass:"list-tit",attrs:{title:"最近播放",visible:t.drawer,"with-header":!1,modal:!1,"append-to-body":!0},on:{"update:visible":function(e){t.drawer=e}}},[s("div",{staticClass:"list-tit",staticStyle:{padding:"15px 0px 0px 7px","font-size":"18px","font-weight":"700"}},[t._v("\n      最近播放\n    ")]),t._v(" "),s("div",{staticClass:"lastsong"},[s("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"","highlight-current-row":""},on:{"current-change":t.handleCurrentChange,"row-contextmenu":t.delListSongs}},[s("el-table-column",{attrs:{prop:"playSong",label:"歌曲",width:"270px"}}),t._v(" "),s("el-table-column",{attrs:{prop:"playSinger",label:"歌手",width:"90px"}})],1)],1)])],1)},staticRenderFns:[]};var _=s("VU/8")(w,C,!1,function(t){s("N70s"),s("k5Ky")},"data-v-16029be8",null).exports,x=0,$={name:"lyricsScroll",props:{lyric:{type:Array,default:[]}},data:function(){return{lyricsIndex:0}},methods:{lyricScroll:function(t){var e=document.querySelectorAll(".lyricsItem"),s=document.querySelector(".lyrics");if(0==x&&(x=e[0].offsetTop-s.offsetTop),console.log(t),e[t-1]){var i=e[t-1].offsetTop-s.offsetTop;s.scrollTo({behavior:"smooth",top:i-x})}},getCurrentLyricsIndex:function(t){var e=this,s=0;this.lyric.some(function(i){if(s<e.lyric.length-1)return t>i[0]&&(s+=1),t<=i[0]}),this.lyricsIndex=s}},watch:{"$store.state.currentTime":function(t,e){(e&&Math.abs(t-e)>=1||0==this.lyricsIndex&&this.lyric.length>1)&&this.lyric.length>1&&(this.getCurrentLyricsIndex(t),this.lyricScroll(this.lyricsIndex)),this.lyricsIndex<this.lyric.length&&t>=this.lyric[this.lyricsIndex][0]&&(this.lyricsIndex+=1,this.lyricScroll(this.lyricsIndex))},"$store.state.playId":function(t){this.lyricsIndex=0},lyric:function(t){var e=this;console.log("获取了歌词"),this.$store.state.currentTime>1&&this.lyric.length>1&&(this.getCurrentLyricsIndex(this.$store.state.currentTime),this.$nextTick(function(){e.lyricScroll(e.lyricsIndex)}))}},created:function(){},mounted:function(){}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"lyrics"},[s("div",{staticClass:"placeholder"}),t._v(" "),t._l(t.lyric,function(e,i){return s("div",{key:i,staticClass:"lyricsItem",class:t.lyricsIndex-1==i?"currentLyric":""},[t._v("\n    "+t._s(e[1])+"\n  ")])}),t._v(" "),s("div",{staticClass:"placeholder"})],2)},staticRenderFns:[]};var U={name:"lyrics",components:{lyricsScroll:s("VU/8")($,S,!1,function(t){s("BJG3")},"data-v-4d4c3c44",null).exports},data:function(){return{lyric:[[0,"正在加载歌词"]],lyricMove:{top:""},currentRow:0,songList:[]}},created:function(){this.getLyric(this.$store.state.playId)},watch:{"$store.state.playId":function(){this.getLyric(this.$store.state.playId)}},methods:{test:function(){console.log(this.lyric)},getLyric:function(t){var e=this;Object(g.a)({url:"/lyric",params:{id:t}}).then(function(t){return e.lyric=[],e.formatLyric(t.data.lrc.lyric)}).catch()},formatLyric:function(t){for(var e=this,s=t.split("\n"),i=s.length,a=function(t){var i=s[t].split("]"),a=i.pop();i.forEach(function(t){var s=[[0,""]],i=t.substr(1,t.length-1).split(":"),n=60*parseInt(i[0])+Math.ceil(i[1]);s[0]=n,s[1]=a,e.lyric.push(s)})},n=0;n<i;n++)a(n);this.lyric.sort(this.sortRule)},sortRule:function(t,e){return t.time-e.time}}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lyr"},[e("lyrics-scroll",{attrs:{lyric:this.lyric}})],1)},staticRenderFns:[]};var I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"imgbox"},[e("img",{attrs:{src:this.playImg,alt:"",width:"100%"}})])},staticRenderFns:[]};var A={name:"boFangYe",components:{lyrics:s("VU/8")(U,k,!1,function(t){s("eO8e"),s("2W4t")},"data-v-70b5cb7b",null).exports,boFangImg:s("VU/8")({name:"boFangImg",data:function(){return{}},computed:{playImg:function(){return this.$store.state.playPicUrl}}},I,!1,function(t){s("cGJS")},"data-v-18a0cb09",null).exports}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"particles-js"}},[e("div",{staticClass:"show"},[e("div",{staticClass:"jiao"},[e("bo-fang-img")],1),this._v(" "),e("div",{staticClass:"gecibox"},[e("vue-particles",{attrs:{color:"#dedede",particleOpacity:.6,particlesNumber:80,shapeType:"star",particleSize:4,linesColor:"#FFFFFF",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:3,hoverEffect:!0,hoverMode:"grab",clickEffect:!0,clickMode:"push"}}),this._v(" "),e("lyrics")],1)])])},staticRenderFns:[]};var P=0,F=0,T={name:"bottomControl",components:{boFangList:_,boFangYe:s("VU/8")(A,L,!1,function(t){s("qJcW")},"data-v-3eea7ba2",null).exports},data:function(){return{playStatus:!1,Timer:"",currentBar:0,durationText:"00:00",listShow:!1,loopStyle:"not",drawer:!1,playURL:this.$store.state.songId,picUrl:s("4xTX"),songName:this.$store.state.playSong,singer:this.$store.state.playSinger,title:this.$store.state.playSong,currentTime:0,timeProgress:0}},computed:{currentText:function(){return this.formatTime(this.currentTime)},playCnt:function(){for(var t,e=0;this.$store.state.playList[0].playDetail[t];t++)e++;return e},playIndex:function(){var t=this;return this.$store.state.playList[0].playDetail.findIndex(function(e){return e.playId===t.$store.state.playId})}},watch:{"$refs.audio.play":function(){this.$store.state.onPlay=!0},"$store.state.songId":function(){this.playURL=this.$store.state.songId,this.picUrl=this.$store.state.playPicUrl,this.songName=this.$store.state.playSong,this.singer=this.$store.state.playSinger,this.title=this.$store.state.playSong},"$store.state.playId":function(){this.$store.state.onPlay=!this.$store.state.onPlay,this.playStatus=!0},"$store.state.isDel":function(){this.next()},$route:function(){"onMv"===this.$route.name&&this.pause()}},methods:{test:function(){console.log(this.$store.state.playList)},overAudio:function(){this.playStatus=!1,this.next()},getSongUrl:function(t){this.$store.state.songId="https://music.163.com/song/media/outer/url?id="+t+".mp3"},prev:function(){var t=0;t=this.playIndex-1==-1?this.$store.state.playList[0].playDetail.length-1:this.playIndex-1,this.playIndexSong(t),console.log(this.playIndex),console.log(this.$store.state.playList[0].playDetail[t].playSinger),console.log(this.$store.state.playSinger)},next:function(){var t=0;t=this.playIndex+1==this.$store.state.playList[0].playDetail.length?0:this.playIndex+1,this.playIndexSong(t)},playIndexSong:function(t){this.$store.state.playSinger=this.$store.state.playList[0].playDetail[t].playSinger,this.$store.state.playId=this.$store.state.playList[0].playDetail[t].playId,this.$store.state.playSong=this.$store.state.playList[0].playDetail[t].playSong,this.$store.state.playPicUrl=this.$store.state.playList[0].playDetail[t].playPicUrl,this.getSongUrl(this.$store.state.playId)},timeupdate:function(){var t=this.$refs.audio.currentTime;this.$store.commit("updateCurrentTime",t),(t=Math.floor(t))!==P&&(P=t,this.currentTime=t,this.timeProgress=this.$refs.audio.currentTime/this.$refs.audio.duration*100)},changeProgress:function(t){F=this.returnSecond(this.durationText),this.currentTime=Math.floor(t/100*F),console.log("changeProgress"+this.currentTime),this.$refs.audio.currentTime=this.currentTime},setTimer:function(){this.clearTimer(),this.Timer=setInterval(this.updateCurrent,1e3)},clearTimer:function(){clearInterval(this.Timer),this.Timer=""},returnSecond:function(t){return t=t.split(":"),60*parseInt(t[0])+parseInt(t[1])},formatTime:function(t){var e=parseInt(t/60),s=parseInt(t%60);return e>=10||(e="0"+e),s>=10||(s="0"+s),e+":"+s},play:function(){this.$refs.audio.play(),this.playStatus=!0},pause:function(){this.playStatus=!1,this.$refs.audio.pause(),this.clearTimer()},cutSong:function(t){t==this.songContent?this.play():this.$store.commit("setContent",t)},getDuration:function(){this.durationText=this.formatTime(this.$refs.audio.duration)}}},N={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bottomControl",staticStyle:{"z-index":"10000"}},[s("div",{staticClass:"block"},[s("audio",{ref:"audio",attrs:{src:t.playURL,autoplay:""},on:{timeupdate:t.timeupdate,canplay:t.getDuration,ended:t.overAudio}}),t._v(" "),s("el-slider",{attrs:{"show-tooltip":!1},on:{change:t.changeProgress},model:{value:t.timeProgress,callback:function(e){t.timeProgress=e},expression:"timeProgress"}})],1),t._v(" "),s("div",{staticClass:"fot"},[s("div",{staticClass:"item item-1"},[s("el-button",{staticStyle:{"margin-left":"16px","margin-right":"16px"},attrs:{type:"primary"},on:{click:function(e){t.drawer=!0}}},[s("img",{staticClass:"singer",attrs:{src:t.picUrl,width:"100%"}})]),t._v(" "),s("div",{staticClass:"songDetil"},[s("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.songName))]),t._v(" "),s("br"),t._v(" "),s("span",{staticStyle:{"font-size":"10px"}},[t._v(t._s(t.singer))])]),t._v(" "),s("div",{staticClass:"bofangye"},[s("el-drawer",{staticStyle:{"font-size":"25px"},attrs:{title:t.title,direction:"btt",size:"100%",visible:t.drawer,"with-header":!0,"append-to-body":!0},on:{"update:visible":function(e){t.drawer=e}}},[s("bo-fang-ye")],1)],1)],1),t._v(" "),s("div",{staticClass:"item item-2"},[s("div",{staticClass:"bofangcontrol"},[s("i",{staticClass:"el-icon-caret-left xiayishou",on:{click:t.prev}}),t._v(" "),s("div",{staticClass:"play"},[s("i",{directives:[{name:"show",rawName:"v-show",value:!t.playStatus,expression:"!playStatus"}],staticClass:"el-icon-video-play bofang",on:{click:t.play}}),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:t.playStatus,expression:"playStatus"}],staticClass:"el-icon-video-pause zanting",on:{click:t.pause}})]),t._v(" "),s("i",{staticClass:"el-icon-caret-right shangyishou",on:{click:t.next}}),t._v(" "),s("div",{staticClass:"time"},[t._v(t._s(t.currentText)+"/"+t._s(t.durationText))])])]),t._v(" "),s("div",{staticClass:"item item-3"},[s("bo-fang-list")],1)])])},staticRenderFns:[]};var V=s("VU/8")(T,N,!1,function(t){s("g1dL"),s("cjqh")},"data-v-140a1e10",null).exports,D=s("N99k"),E={name:"index",components:{test:o.default,topNav:f,bottomControl:V,tabs:v.a,searchSongList:D.default},data:function(){return{defaultActive:""}},created:function(){var t=this;setTimeout(function(){t.getUserMusicList()},500)},methods:{getUserMusicList:function(){var t=this;return r()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$store.state.user.userName){e.next=3;break}return t.$message.error("请先进行登录操作"),e.abrupt("return");case 3:case"end":return e.stop()}},e,t)}))()}},watch:{"$route.path":function(){this.defaultActive="/"+this.$route.path.split("/")[1]}}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"index"}},[s("top-nav"),t._v(" "),s("el-container",[s("el-aside",{attrs:{width:"170px"}},[s("el-menu",{attrs:{"active-text-color":"black",router:"","default-active":t.defaultActive}},[s("el-menu-item",{attrs:{index:"/index/discover"}},[s("i",{staticClass:"iconfont icon-yinle"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("发现音乐")])]),t._v(" "),s("el-menu-item",{attrs:{index:"/videos"}},[s("i",{staticClass:"iconfont icon-shipin"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("视频")])]),t._v(" "),s("el-menu-item",{attrs:{index:"/comments"}},[s("i",{staticClass:"iconfont icon-more"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("歌曲评论")])]),t._v(" "),s("el-menu-item-group",[s("template",{staticClass:"groupTitle",slot:"title"},[t._v("登录后可评论")])],2),t._v(" "),s("el-menu-item-group",[s("template",{staticClass:"groupTitle",slot:"title"})],2)],1)],1),t._v(" "),s("el-main",[s("router-view",{staticClass:"routerView"})],1)],1),t._v(" "),s("div",{staticClass:"footer"},[s("bottom-control")],1)],1)},staticRenderFns:[]};var M=s("VU/8")(E,R,!1,function(t){s("/nFP")},"data-v-eca57960",null);e.default=M.exports},Td0T:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Ub+T"),a={name:"test",data:function(){return{message:""}},methods:{getRequest:function(){var t=this;Object(i.a)({url:"/lyric?id=33894312"}).then(function(e){console.log(e),t.message=e.data.lrc.lyric}).catch(function(e){t.message=e,console.log(e)})}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"anniu"},[e("button",{staticClass:"post",on:{click:this.getRequest}},[this._v("发送")]),this._v(" "),e("div",[this._v("返回的数据："+this._s(this.message))])])},staticRenderFns:[]};var r=s("VU/8")(a,n,!1,function(t){s("5xk6")},"data-v-40a65311",null);e.default=r.exports},"Ub+T":function(t,e,s){"use strict";var i=s("//Fk"),a=s.n(i),n=s("mtWM"),r=s.n(n),o=s("mw3O"),c=s.n(o);r.a.defaults.withCredentials=!0,r.a.defaults.baseURL="http://localhost:3000/",r.a.interceptors.request.use(function(t){return"post"!==t.meth||t.data instanceof FormData||(t.headers={"Content-Type":"application/x-www-form-urlencoded"},t.data=c.a.stringify(t.data,{arrayFormat:"repeat"})),t},function(t){return a.a.reject(t)}),r.a.interceptors.response.use(function(t){return t},function(t){return a.a.resolve(t)}),e.a=r.a},VzmM:function(t,e){},XwvZ:function(t,e){},"Y/lP":function(t,e){},Z33L:function(t,e){},c5He:function(t,e){},cGJS:function(t,e){},cjqh:function(t,e){},cvDP:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"discover",components:{tabs:s("6naw").a}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"discover"},[e("tabs")],1)},staticRenderFns:[]};var n=s("VU/8")(i,a,!1,function(t){s("/XWQ")},"data-v-7cfecbfe",null);e.default=n.exports},eO8e:function(t,e){},g1dL:function(t,e){},h0g1:function(t,e){t.exports="data:image/jpeg;base64,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"},k5Ky:function(t,e){},qJcW:function(t,e){},t9K7:function(t,e){},tvR6:function(t,e){},uJ5j:function(t,e){},uKbm:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("woOf"),a=s.n(i),n=s("Ub+T"),r={name:"login",data:function(){return{phone:"",password:"",captcha:"",nickname:"",checkCap:"",checkPw:"",isCreated:0,isReSet:!1,isLogin:!0}},destroyed:function(){clearTimeout(this.timer)},methods:{checkCaptcha:function(){Object(n.a)({url:"/captcha/verify",params:{captcha:this.captcha,phone:this.phone}}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},getCaptcha:function(){""===this.phone?alert("请输入手机号码"):Object(n.a)({url:"/captcha/sent",params:{phone:this.phone}}).then(function(t){console.log("获取了验证码")}).catch(function(t){console.log(t)})},checkCreated:function(){var t=this;Object(n.a)({url:"/cellphone/existence/check",params:{phone:this.phone}}).then(function(e){!1===e.data.hasPassword?(t.isCreated=-1,console.log("账号不存在")):(t.isCreated=1,console.log("账号存在")),console.log(e)}).catch(function(t){console.log(t)})},zhuCe:function(){var t=this;this.checkCreated(),""===this.captcha||""===this.phone||""===this.password||""===this.nickname?alert("请完善信息"):this.password!=this.checkPw?alert("请确认密码"):1===this.isCreated?alert("账号已存在,请登录"):n.a.post("/register/cellphone",{phone:this.phone,password:this.password,captcha:this.captcha,nickname:this.nickname}).then(function(e){"昵称不符合规范"===e.data.message&&alert("昵称不符合规范"),e.data.account.id||alert("注册成功,请登录"),console.log(t.password+"    "+t.phone),console.log(e)}).catch(function(t){console.log("err:  "+t)})},timer:function(){var t=this;return setTimeout(function(){t.logining()},3e3)},login:function(){""===this.phone||""===this.password?alert("请输入账号/密码"):(this.checkCreated(),this.timer())},logining:function(){var t=this;-1===this.isCreated?alert("账号不存在，请注册"):Object(n.a)({url:"/login/cellphone",params:{phone:this.phone,password:this.password}}).then(function(e){if(console.log(e),"密码错误"===e.data.msg)alert("密码错误");else{var s=!t.$store.state.isLogin;t.$store.commit({type:"changeIsLogin",isLogin:s});var i={userPic:e.data.profile.avatarUrl,userName:e.data.profile.nickname},n={};a()(n,i),localStorage.setItem("token",e.data.token),t.$store.commit({type:"changeUser",user:n}),alert("登录成功"),console.log(e),t.$router.go(-1)}}).catch(function(t){console.log(t)})},forgetPW:function(){this.isReSet=!this.isReSet,this.isLogin=!this.isLogin},reSetPW:function(){var t=this;""===this.captcha||""===this.phone||""===this.password?alert("请完善信息"):this.password!=this.checkPw?alert("请确认密码"):Object(n.a)({url:"/register/cellphone",params:{captcha:this.captcha,phone:this.phone,password:this.password}}).then(function(e){alert("重置密码成功"),t.isReSet=!t.isReSet,t.isLogin=!t.isLogin,console.log(e)}).catch(function(t){console.log(t)})},toLeft:function(){this.$refs.yidong.style.transform="translateX(80%)",this.$refs.signin.style.display="none",this.$refs.signin.style.transition="all 0.5s ease",this.$refs.signup.style.display="block"},toRight:function(){this.$refs.signup.style.display="none",this.$refs.signup.style.transition="all 0.5s ease",this.$refs.signin.style.display="block",this.$refs.yidong.style.transform="translateX(0%)"}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"containera"},[i("div",{staticClass:"welcome"},[i("div",{ref:"yidong",staticClass:"pinkbox"},[i("div",{ref:"signup",staticClass:"signup nodisplay"},[i("h1",{staticClass:"h1"},[t._v("Register")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],staticClass:"inp",attrs:{type:"text",placeholder:"昵称"},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"inp",attrs:{type:"email",placeholder:"手机号码"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"inp",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.checkPw,expression:"checkPw"}],staticClass:"inp",attrs:{type:"password",placeholder:"确认密码"},domProps:{value:t.checkPw},on:{input:function(e){e.target.composing||(t.checkPw=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],staticClass:"inp put-captcha",attrs:{type:"captcha",placeholder:"手机验证码"},domProps:{value:t.captcha},on:{input:function(e){e.target.composing||(t.captcha=e.target.value)}}}),t._v(" "),i("button",{staticClass:"captcha but button",staticStyle:{display:"inline"},on:{click:t.getCaptcha}},[t._v("\n          获取验证码\n        ")]),t._v(" "),i("button",{staticClass:"but button submit",on:{click:t.zhuCe}},[t._v("\n          Create Account\n        ")])]),t._v(" "),i("div",{ref:"signin",staticClass:"signin"},[i("h1",{staticClass:"h1"},[t._v("Sign In")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"inp",attrs:{type:"text",placeholder:"手机号码"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"inp",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isReSet,expression:"isReSet"}]},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checkPw,expression:"checkPw"}],staticClass:"inp",attrs:{type:"password",placeholder:"确认密码"},domProps:{value:t.checkPw},on:{input:function(e){e.target.composing||(t.checkPw=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],staticClass:"inp put-captcha",attrs:{type:"captcha",placeholder:"手机验证码"},domProps:{value:t.captcha},on:{input:function(e){e.target.composing||(t.captcha=e.target.value)}}}),t._v(" "),i("button",{staticClass:"captcha but button",staticStyle:{display:"inline"},on:{click:t.getCaptcha}},[t._v("\n            获取验证码\n          ")])]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],staticClass:"but button sumbit",on:{click:t.login}},[t._v("\n          Login\n        ")]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],staticClass:"but button sumbit",on:{click:t.reSetPW}},[t._v("\n          确认重置\n        ")]),t._v(" "),i("button",{staticClass:"but button repw",on:{click:t.forgetPW}},[t._v("忘记密码?")])])]),t._v(" "),i("div",{staticClass:"leftbox"},[t._m(0),t._v(" "),i("img",{staticClass:"flower smaller",attrs:{src:s("yYYA")}}),t._v(" "),i("p",{staticClass:"pa account"},[t._v("已有账号？")]),t._v(" "),i("button",{staticClass:"but button",attrs:{id:"signin"},on:{click:t.toRight}},[t._v("登录")])]),t._v(" "),i("div",{staticClass:"rightbox"},[t._m(1),t._v(" "),i("img",{staticClass:"flower",attrs:{src:s("5aes")}}),t._v(" "),i("p",{staticClass:"pa account"},[t._v("还未有账号？")]),t._v(" "),i("button",{staticClass:"but button",attrs:{id:"signup"},on:{click:t.toLeft}},[t._v("注册")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"titlea"},[e("span",{staticClass:"spana"},[this._v("一首歌")]),this._v("&"),e("br"),this._v("一个故事")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"titlea"},[e("span",{staticClass:"spana"},[this._v("故事不长")]),this._v("&"),e("br"),this._v("也不难讲\n      ")])}]};var c=s("VU/8")(r,o,!1,function(t){s("Ip1V")},null,null);e.default=c.exports},x0c5:function(t,e){},yYYA:function(t,e,s){t.exports=s.p+"static/img/longin.b865455.jpg"},z4b5:function(t,e){},zXLJ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f3304da03cf2474a5efc.js.map